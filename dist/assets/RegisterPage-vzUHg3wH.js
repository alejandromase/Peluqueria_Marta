import{d as S,u as q,l as a,n as z,p as E,r as j,c as C,o as h,b as s,f as V,e as D,w as I,j as R,h as N,t as U,k as r,v as n}from"./index-BcwZ1Jdz.js";const T={class:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 w-screen"},A={class:"max-w-md w-full space-y-8"},B={class:"mt-2 text-center text-sm text-gray-600"},M={class:"flex justify-center"},$={key:0,class:"text-red-500"},Z={key:1,class:"text-red-600 bg-red-100 border border-red-400 rounded px-4 py-2 text-center"},F={class:"rounded-md shadow-lg"},Y={class:"rounded-md border-t-1 border-gray-300"},G={class:"rounded-md shadow-lg"},H={class:"rounded-md border-t-1 border-gray-300"},J=["disabled"],Q=S({__name:"RegisterPage",setup(K){const f=q(),p=a(""),v=a(""),m=a(""),l=a(""),u=a(""),y=a(""),b=a(""),g=a(""),x=a(""),c=a(""),o=a(""),k=z(),L=E(()=>{const d=/[A-Z]/.test(l.value),e=/[a-z]/.test(l.value),i=/\d/.test(l.value),t=/[!@#$%^&*(),.?":{}|<>]/.test(l.value);return p.value&&v.value&&m.value&&l.value&&u.value&&l.value===u.value&&l.value.length>=8&&d&&e&&i&&t}),w=()=>{const d=/[A-Z]/.test(l.value),e=/[a-z]/.test(l.value),i=/\d/.test(l.value),t=/[!@#$%^&*(),.?":{}|<>]/.test(l.value);return l.value!==u.value?(o.value="Las contraseñas no coinciden",!1):l.value.length<8?(o.value="La contraseña debe tener al menos 8 caracteres",!1):d?e?i?t?(o.value="",!0):(o.value='La contraseña debe contener al menos un carácter especial (!@#$%^&*(),.?":{}|<>)',!1):(o.value="La contraseña debe contener al menos un número",!1):(o.value="La contraseña debe contener al menos una letra minúscula",!1):(o.value="La contraseña debe contener al menos una letra mayúscula",!1)},P=async()=>{if(c.value="",!w())return;const d=await k.register({fullName:p.value,phone:v.value,email:m.value,password:l.value,address_street:y.value||void 0,address_city:b.value||void 0,address_state:g.value||void 0,address_postal_code:x.value||void 0});if(!d.ok){c.value=d.message||"Error al registrar";return}const e=localStorage.getItem("lastPath");e==="/datetime"?f.push({name:"reservation-details"}):e==="/home"?f.push({name:"user"}):f.push({name:"home"})};return(d,e)=>{const i=j("router-link");return h(),C("div",T,[s("div",A,[s("div",null,[e[11]||(e[11]=s("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Crear una cuenta",-1)),s("p",B,[e[10]||(e[10]=V(" ¿Ya tienes una cuenta? ")),D(i,{to:"/auth/login",class:"font-medium text-indigo-600 hover:text-indigo-500",replace:""},{default:I(()=>e[9]||(e[9]=[V(" Inicia sesión aquí ")])),_:1,__:[9]})])]),s("form",{class:"space-y-6",onSubmit:R(P,["prevent"])},[s("div",M,[c.value?(h(),C("div",$,U(c.value),1)):N("",!0),o.value?(h(),C("p",Z,U(o.value),1)):N("",!0)]),s("div",F,[s("div",Y,[e[12]||(e[12]=s("label",{for:"fullName",class:"sr-only"},"Nombre completo",-1)),r(s("input",{id:"fullName","onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),type:"text",required:"",class:"input-field rounded-t-md",placeholder:"Nombre completo"},null,512),[[n,p.value]])]),s("div",null,[e[13]||(e[13]=s("label",{for:"phone",class:"sr-only"},"Teléfono",-1)),r(s("input",{id:"phone","onUpdate:modelValue":e[1]||(e[1]=t=>v.value=t),type:"tel",required:"",class:"input-field",placeholder:"Teléfono"},null,512),[[n,v.value]])]),s("div",null,[e[14]||(e[14]=s("label",{for:"email",class:"sr-only"},"Correo electrónico",-1)),r(s("input",{id:"email","onUpdate:modelValue":e[2]||(e[2]=t=>m.value=t),type:"email",required:"",class:"input-field",placeholder:"Correo electrónico"},null,512),[[n,m.value]])]),s("div",null,[e[15]||(e[15]=s("label",{for:"password",class:"sr-only"},"Contraseña",-1)),r(s("input",{id:"password","onUpdate:modelValue":e[3]||(e[3]=t=>l.value=t),type:"password",required:"",class:"input-field",placeholder:"Contraseña",onInput:w},null,544),[[n,l.value]])]),s("div",null,[e[16]||(e[16]=s("label",{for:"confirmPassword",class:"sr-only"},"Confirmar contraseña",-1)),r(s("input",{id:"confirmPassword","onUpdate:modelValue":e[4]||(e[4]=t=>u.value=t),type:"password",required:"",class:"input-field input-field rounded-b-md",placeholder:"Confirmar contraseña",onInput:w},null,544),[[n,u.value]])])]),s("div",G,[s("div",H,[e[17]||(e[17]=s("label",{for:"address",class:"sr-only"},"Dirección",-1)),r(s("input",{id:"address","onUpdate:modelValue":e[5]||(e[5]=t=>y.value=t),type:"text",class:"input-field rounded-t-md",placeholder:"Dirección (opcional)"},null,512),[[n,y.value]])]),s("div",null,[e[18]||(e[18]=s("label",{for:"city",class:"sr-only"},"Ciudad",-1)),r(s("input",{id:"city","onUpdate:modelValue":e[6]||(e[6]=t=>b.value=t),type:"text",class:"input-field",placeholder:"Ciudad (opcional)"},null,512),[[n,b.value]])]),s("div",null,[e[19]||(e[19]=s("label",{for:"state",class:"sr-only"},"Estado",-1)),r(s("input",{id:"state","onUpdate:modelValue":e[7]||(e[7]=t=>g.value=t),type:"text",class:"input-field",placeholder:"Estado (opcional)"},null,512),[[n,g.value]])]),s("div",null,[e[20]||(e[20]=s("label",{for:"zip",class:"sr-only"},"Código postal",-1)),r(s("input",{id:"zip","onUpdate:modelValue":e[8]||(e[8]=t=>x.value=t),type:"text",class:"input-field rounded-b-md",placeholder:"Código postal (opcional)"},null,512),[[n,x.value]])])]),s("div",null,[s("button",{type:"submit",disabled:!L.value,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"}," Registrarse ",8,J)])],32)])])}}});export{Q as default};
